import{u as h,e as f,r as n,f as x,j as e,h as w}from"./index-lzhdkBta.js";import{r as g}from"./auth-DHpEojrm.js";import"./index-D52ZZyUb.js";function v(){const i=h(),c=f(),[s,u]=n.useState({username:"",email:"",password1:"",password2:""}),[d,t]=n.useState(""),[m,o]=n.useState(!1),l=a=>{u({...s,[a.target.name]:a.target.value})};async function p(a){if(a.preventDefault(),o(!0),t(""),s.password1!==s.password2){t("Passwords do not match."),o(!1);return}try{const r=await g(s);r.success&&r.user?(c(w(r.user)),i("/dashboard")):t(r.message||"Registration failed.")}catch{t("There was a problem signing up. Please try again.")}finally{o(!1)}}return n.useEffect(()=>{x.get("access_token")&&i("/dashboard")},[]),e.jsx("div",{className:"min-h-screen flex justify-center items-center",children:e.jsx("div",{children:e.jsxs("div",{className:"w-96 px-4 py-4 bg-white shadow-lg rounded-lg",children:[e.jsx("h2",{className:"mt-6 text-center text-2xl font-bold text-gray-900",children:"Sign Up"}),e.jsxs("form",{className:"max-w-sm mx-auto",onSubmit:p,children:[e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label font-bold",htmlFor:"username",children:"Username"}),e.jsx("input",{type:"text",id:"username",name:"username",className:"input input-bordered w-full",placeholder:"Your name...",required:!0,onChange:l,value:s.username})]}),e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label font-bold",htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",className:"input input-bordered w-full",placeholder:"name@example.com",required:!0,onChange:l,value:s.email})]}),e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label font-bold",htmlFor:"password1",children:"Password"}),e.jsx("input",{type:"password",id:"password1",name:"password1",className:"input input-bordered w-full",required:!0,onChange:l,value:s.password1})]}),e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label font-bold",htmlFor:"password2",children:"Confirm Password"}),e.jsx("input",{type:"password",id:"password2",name:"password2",className:"input input-bordered w-full",required:!0,onChange:l,value:s.password2})]}),d&&e.jsx("p",{className:"text-xs text-red-500 mt-2",children:d}),e.jsx("div",{className:"mt-2",children:e.jsx("button",{type:"submit",className:"btn btn-primary btn-block",disabled:m,children:m?"Signing up...":"Sign Up"})})]})]})})})}export{v as default};
