import{u as h,e as p,r,f as g,j as e,L as f,h as b}from"./index-lzhdkBta.js";import{l as j}from"./auth-DHpEojrm.js";import"./index-D52ZZyUb.js";function v(){const l=h(),m=p(),[t,u]=r.useState({email:"",password:""}),[i,n]=r.useState(""),[o,c]=r.useState(!1),d=s=>{u({...t,[s.target.name]:s.target.value})};async function x(s){s.preventDefault(),c(!0),n("");try{const a=await j(t);if(a.success&&a.user){m(b(a.user)),l("/dashboard");return}n(a.message||"An unexpected error occurred.")}catch{n("There was a problem logging in. Please try again.")}finally{c(!1)}}return r.useEffect(()=>{g.get("access_token")&&l("/dashboard")},[]),e.jsx("div",{className:"min-h-screen w-100 flex justify-center items-center",children:e.jsxs("div",{children:[e.jsxs("div",{className:"w-96 px-4 py-4 bg-white shadow-lg rounded-lg",children:[e.jsx("h2",{className:"mt-6 text-center text-2xl font-bold text-gray-900",children:"Sign In"}),e.jsxs("form",{className:"max-w-sm mx-auto",onSubmit:x,children:[e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label font-bold",htmlFor:"email",children:"Email"}),e.jsx("input",{type:"email",id:"email",name:"email",className:"input input-bordered w-full",placeholder:"name@example.com",required:!0,onChange:d,value:t.email})]}),e.jsxs("div",{className:"form-control w-full",children:[e.jsx("label",{className:"label font-bold",htmlFor:"password",children:"Password"}),e.jsx("input",{type:"password",id:"password",name:"password",className:"input input-bordered w-full",required:!0,onChange:d,value:t.password})]}),i&&e.jsx("p",{className:"text-xs text-red-500 mt-2",children:i}),e.jsx("div",{className:"mt-2",children:e.jsx("button",{type:"submit",className:"btn btn-primary btn-block",disabled:o,children:o?"Signing in...":"Sign In"})})]})]}),e.jsxs("p",{className:"mt-4 text-center text-gray-600",children:["New here?"," ",e.jsx(f,{to:"/register",className:"text-blue-500 hover:underline",children:"Join us today and start your journey!"})]})]})})}export{v as default};
